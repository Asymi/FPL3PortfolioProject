(this["webpackJsonphabit-app"]=this["webpackJsonphabit-app"]||[]).push([[0],{36:function(e,t,a){e.exports=a(59)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),i=a.n(l),s=(a(41),a(42),a(2)),c=a(6),u=a(7),o=a(9),m=a(8),d=a(15),p=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e.handleInput=function(t){var a=e.state.user;a[t.target.name]=t.target.value,e.setState({user:a})},e.handleSubmit=function(t){t.preventDefault();var a={username:e.state.user.username,password:e.state.user.password},n={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)};fetch("http://localhost:3000/auth/signup",n).then((function(e){return e.json()})).then((function(t){201===t.status&&e.props.history.push("/login")})).catch((function(e){return alert("Invalid Input")}))},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",onChange:this.handleInput,required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleInput,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Sign Up"})),r.a.createElement("ul",null,r.a.createElement("li",null,"Password must contain at least 6 characters")))}}]),a}(n.Component),h=p,b=(a(43),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",null),r.a.createElement("div",{id:"grid-container"},r.a.createElement("div",{id:"grid-item1"},r.a.createElement("p",{className:"herotitle"},"Habit App"),r.a.createElement(d.b,{to:"/signup"},r.a.createElement("button",null,"Sign Up")),r.a.createElement(d.b,{to:"/login"},r.a.createElement("button",null,"Login"))),r.a.createElement("p",{className:"sectiontitle"},"How it works"),r.a.createElement("div",{id:"grid-item2"},r.a.createElement("div",{id:"sub1"},r.a.createElement("img",{className:"subImage",src:"#"}),r.a.createElement("p",{className:"subTitle"},"1. Add your Habits "),r.a.createElement("p",{className:"subText"},"Quis quis labore eiusmod id.")),r.a.createElement("div",{id:"sub2"},r.a.createElement("img",{className:"subImage",src:"#"}),r.a.createElement("p",{className:"subTitle"},"2. See your daily Habits "),r.a.createElement("p",{className:"subText"},"Quis quis labore eiusmod id.")),r.a.createElement("div",{id:"sub3"},r.a.createElement("img",{className:"subImage",src:"#"}),r.a.createElement("p",{className:"subTitle"},"3. See your Progress"),r.a.createElement("p",{className:"subText"},"Quis quis labore eiusmod id."))),r.a.createElement("div",{id:"grid-item3"},r.a.createElement("p",{className:"sectiontitle"},"Why it works"),r.a.createElement("p",{id:"sub-Text3"},"Et id incididunt proident id adipisicing ullamco velit in est proident consectetur do quis. Non veniam Lorem mollit nostrud adipisicing elit. Laborum consectetur eiusmod cupidatat cupidatat occaecat excepteur minim ex sint. Velit dolore labore do voluptate amet pariatur sit occaecat. Amet in cillum do elit voluptate in elit ipsum deserunt ex eu sunt nostrud.Quis quis labore eiusmod id.")),r.a.createElement("div",{id:"grid-item4"},r.a.createElement("div",{id:"sub1"},r.a.createElement("img",{className:"stars",src:"https://uploads-ssl.webflow.com/5d3aa39f8474c472841a7dfc/5eb90f1a4d5e4b369fc400b7_customer-review-five-star%402x.png"}),r.a.createElement("p",{className:"subTitle"},'"I have tried them all, finally sth that is worth it. User friendly, nice dashboards, hitting all my habits!" '),r.a.createElement("p",{className:"subText"},"Yassine")),r.a.createElement("div",{id:"sub2"},r.a.createElement("img",{className:"stars",src:"https://uploads-ssl.webflow.com/5d3aa39f8474c472841a7dfc/5eb90f1a4d5e4b369fc400b7_customer-review-five-star%402x.png"}),r.a.createElement("p",{className:"subTitle"},'"I have tried them all, finally sth that is worth it. User friendly, nice dashboards, hitting all my habits!" '),r.a.createElement("p",{className:"subText"},"Cindy")),r.a.createElement("div",{id:"sub3"},r.a.createElement("img",{className:"stars",src:"https://uploads-ssl.webflow.com/5d3aa39f8474c472841a7dfc/5eb90f1a4d5e4b369fc400b7_customer-review-five-star%402x.png"}),r.a.createElement("p",{className:"subTitle"},'"I have tried them all, finally sth that is worth it. User friendly, nice dashboards, hitting all my habits!"'),r.a.createElement("p",{className:"subText"},"Bob"))),r.a.createElement(p,null),r.a.createElement("div",{id:"grid-item5"},r.a.createElement("p",null,"Footer"))))}}]),a}(n.Component)),E=a(35),f=a(11),v=a(14),y=a.n(v),g=a(20),j=function(e){return{type:"ADD_HABITS",payload:e}},w=function(e){return{type:"UPDATE_STATUS",payload:e}},O=function(e){return{type:"DELETE_HABIT",payload:e}},S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).updateStatus=function(){e.props.tickHabit(e.props.info)},e.removeHabit=function(){e.props.deleteHabit(e.props.info)},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,this.props.info.habit),r.a.createElement("button",{onClick:this.updateStatus},this.props.info.status?"Complete":"Incomplete"),r.a.createElement("button",{onClick:this.removeHabit},"Delete"))}}]),a}(n.Component),T=Object(f.b)((function(e){return{userId:e.userid}}),(function(e){return{tickHabit:function(t){return e(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){var n,r,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={method:"PUT"},t.next=4,fetch("http://localhost:3000/habits/".concat(e.userid,"/").concat(e.habit_id),n);case 4:return r=t.sent,t.next=7,r.json();case 7:l=t.sent,a(w(l.rows)),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),new Error(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},deleteHabit:function(t){return e(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(a){var n,r,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={method:"DELETE"},t.next=4,fetch("http://localhost:3000/habits/".concat(e.userid,"/").concat(e.habit_id,"}"),n);case 4:return r=t.sent,t.next=7,r.json();case 7:l=t.sent,a(O(l)),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),new Error(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(S),I=(n.Component,a(12)),x=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e.handleSubmit=function(t){t.preventDefault();var a=Object(I.a)({},e.state.data);a.userid=e.props.userid,console.log(a);var n={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)};fetch("http://localhost:3000/habits/",n).then((function(t){return e.setState({data:[]})})).then((function(t){return e.props.closeModal()}))},e.handleInput=function(t){var a=e.state.data;a[t.target.name]=t.target.value,e.setState({data:a})},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{id:"habitform",onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"habit"},"Habit"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"habit",name:"habit",placeholder:"Please enter a habit",onChange:this.handleInput}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"frequency",id:"frequency"},"Frequency"),r.a.createElement("br",null),r.a.createElement("select",{name:"frequency",defaultValue:"",onChange:this.handleInput},r.a.createElement("option",{value:"",disabled:!0},"Select Frequency"),r.a.createElement("option",{value:"daily"},"Daily"),r.a.createElement("option",{value:"weekly"},"Weekly"),r.a.createElement("option",{value:"monthly"},"Monthly")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"startdate"},"Start Date:"),r.a.createElement("br",null),r.a.createElement("input",{type:"date",id:"startdate",name:"startdate",placeholder:"Date YYYY-MM-DD",onChange:this.handleInput}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"enddate"},"Until When?"),r.a.createElement("br",null),r.a.createElement("input",{type:"date",id:"enddate",name:"enddate",placeholder:"Date YYYY-MM-DD",onChange:this.handleInput}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit"})))}}]),a}(n.Component),N=Object(f.b)((function(e){return{userid:e.userid}}))(x),C=a(26),H=a.n(C);H.a.setAppElement("#root");var k=Object(f.b)((function(e){return{userid:e.userid,habits:e.dailyHabits}}))((function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),l=a[0],i=a[1];return e.userid?r.a.createElement("div",{className:"Dashboard"},r.a.createElement("h1",null,"Hello Dashboard"),r.a.createElement("button",{onClick:function(){i(!0)}},"+"),e.habits?e.habits.map((function(e,t){return r.a.createElement(T,{key:t,info:e})})):"Loading habits...",r.a.createElement(H.a,{isOpen:l,onRequestClose:function(){return i(!1)}},r.a.createElement("h2",null,"Modal up"),r.a.createElement(N,{closeModal:function(){return i(!1)}}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return i(!1)}},"Close")))):(e.history.push("/"),null)})),D=function(e){return{type:"REGISTER_USER",payload:e}},_=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:{}},e.handleInput=function(t){var a=e.state.user;a[t.target.name]=t.target.value,e.setState({user:a})},e.handleSubmit=function(t){t.preventDefault();var a={username:e.state.user.username,password:e.state.user.password},n={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)};fetch("http://localhost:3000/auth/login",n).then((function(e){return e.json()})).then((function(t){return e.props.setUserId(t.user_id),e.props.fetchHabits(t.user_id),t})).then((function(t){t.user_id&&e.props.history.push("/dashboard")})).catch((function(e){return alert("Invalid Login")}))},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Log In"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",onChange:this.handleInput}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"username"},"Password"),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleInput}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit"})))}}]),a}(n.Component),A=Object(f.b)(null,(function(e){return{setUserId:function(t){return e(D(t))},fetchHabits:function(t){return e((a=t,function(){var e=Object(g.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3000/habits/".concat(a,"/dashboard"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t(j(r)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))(_);var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:b}),r.a.createElement(s.a,{exact:!0,path:"/dashboard",component:k}),r.a.createElement(s.a,{path:"/signup",component:h}),r.a.createElement(s.a,{path:"/login",component:A})))},q=a(16),F={userid:"",dailyHabits:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_USER":return Object(I.a)(Object(I.a)({},e),{},{userid:t.payload});case"ADD_HABITS":return Object(I.a)(Object(I.a)({},e),{},{dailyHabits:t.payload.habits});case"UPDATE_STATUS":return Object.assign({},e,{dailyHabits:e.dailyHabits.map((function(e){return e.habit_id!==t.payload[0].habit_id?e:Object.assign({},e,{status:!e.status})}))});case"DELETE_HABIT":return Object(I.a)(Object(I.a)({},e),{},{dailyHabits:e.dailyHabits.filter((function(e,a){return e.habit_id!==t.payload.habit_id}))});default:return e}},M=a(33),L=a(34),Y=Object(q.createStore)(P,Object(M.composeWithDevTools)(Object(q.applyMiddleware)(L.a)));i.a.render(r.a.createElement(d.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:Y},r.a.createElement(U,null)))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.6eb6ea0e.chunk.js.map